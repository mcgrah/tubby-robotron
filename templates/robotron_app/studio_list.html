{% extends "base_scripted.html"%}
{% block title %}Studios{% endblock %}

{% block minicrumbs %}
<li class="breadcrumb-item active" aria-current="page">Studios</li>
{% endblock %}

{% block content %}
    <div class="row align-items-center">
    <div class="col-md-auto">
    <h2>Studios</h2>
    </div>
    <div class="col">
        <a role=button class="btn btn-outline-primary" href="{% url "create_studio" %}">Add New</a>
    </div>
    </div>
    {% if studio_list %}
        <div class="list-group">
          {% for studio in studio_list %}
              <div class="row align-items-center">
                  <div class="col-sm-8">
                  <a href="{{ studio.get_absolute_url }}" class="list-group-item list-group-item-action">
                      {% if studio.num_projects > 0 %}
                          <span class="badge badge-primary">{{ studio.num_projects }}</span>
                      {% else %}
                          <span class="badge badge-secondary">{{ studio.num_projects }}</span>
                      {% endif %}

                      {{ studio.name }} ( {{ studio.email }})
                  </a>
                  </div>
                  <div class="col-sm">
                      <div class="btn-group" role="group">
                          <a role=button class="btn btn-outline-primary" href="{% url "update_studio" pk=studio.id %}">Edit</a>
                          {% if studio.num_projects > 0 %}
                              <button type="button" class="btn btn-outline-secondary" disabled>Archive</button>
                          {% else %}
                              <a role=button class="btn btn-outline-danger" href="{% url "delete_studio" pk=studio.id %}">Delete</a>
                          {% endif %}
                      </div>
                  </div>
              </div>
          {% endfor %}
        </div>
    {% else %}
       <div class="alert alert-info">There are no studios in the database.</div>
    {% endif %}
{% endblock %}